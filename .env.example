# Apply-Copilot Environment Configuration
# Copy to .env and fill in your actual values
# NEVER commit .env to version control - it contains secrets!

#==============================================================================
# REQUIRED CONFIGURATION
#==============================================================================

# Database Configuration (required)
# Use PostgreSQL for production, SQLite for development
DATABASE_URL=postgresql://user:password@localhost:5432/apply_copilot
# Alternative for development: DATABASE_URL=sqlite:///./apply_copilot.db

# Security Configuration (required)
# Generate secure random tokens - NEVER use defaults in production!
COMPANION_TOKEN=your-secure-32-char-minimum-companion-token-here
SECRET_KEY=your-secure-32-char-minimum-secret-key-for-jwt-here

#==============================================================================
# API SERVICE CONFIGURATION
#==============================================================================

# Application Settings
APP_NAME=Apply-Copilot
VERSION=1.0.0
DEBUG=false

# API Server Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# Database Options
DATABASE_ECHO=false  # Set to true for SQL query logging in development

# CORS Configuration (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,chrome-extension://*

#==============================================================================
# AI PROVIDER CONFIGURATION (OPTIONAL)
#==============================================================================

# LLM Provider Selection
# Options: none (rule-based), openai, anthropic, deepseek, deepseek-nvidia
LLM_PROVIDER=none

# OpenAI Configuration (if LLM_PROVIDER=openai)
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic Configuration (if LLM_PROVIDER=anthropic)
# Get your API key from https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# DeepSeek Configuration (if LLM_PROVIDER=deepseek)
# Get your API key from https://platform.deepseek.com/
DEEPSEEK_API_KEY=your-deepseek-api-key-here

# DeepSeek via NVIDIA Configuration (if LLM_PROVIDER=deepseek-nvidia)
# Get your API key from https://build.nvidia.com/deepseek-ai/deepseek-r1
DEEPSEEK_NVIDIA_API_KEY=nvapi-your-nvidia-api-key-here

#==============================================================================
# STORAGE CONFIGURATION (OPTIONAL)
#==============================================================================

# Redis Configuration (optional - falls back to in-memory caching)
# Use for production for better performance and persistence
REDIS_URL=redis://localhost:6379/0

# MinIO/S3 Storage Configuration (optional - falls back to local disk)
# For artifact storage (resumes, PDFs, screenshots)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=apply-copilot
MINIO_SECURE=false  # Set to true for HTTPS endpoints

#==============================================================================
# COMPANION SERVICE CONFIGURATION
#==============================================================================

# Local Companion Service (handles browser automation)
COMPANION_HOST=127.0.0.1  # NEVER change - security requirement
COMPANION_PORT=8765

#==============================================================================
# FEATURE FLAGS
#==============================================================================

# Mock ATS Pages (for testing)
ENABLE_MOCK_ATS=true

# Debug Logging (detailed logs - use in development only)
ENABLE_DEBUG_LOGGING=false

# Application Limits
MAX_APPLICATIONS_PER_DAY=0

#==============================================================================
# DEVELOPMENT SETTINGS (NEVER USE IN PRODUCTION)
#==============================================================================

# Authentication Bypass (DEVELOPMENT ONLY)
# Set to true ONLY for local development - NEVER in production
DISABLE_AUTH=false

#==============================================================================
# ADVANCED CONFIGURATION (OPTIONAL)
#==============================================================================

# JTR Engine Settings
JTR_CONFIDENCE_THRESHOLD=0.7
JTR_MAX_RS_BULLETS=15
JTR_ENABLE_BATCH_MODE=false

# ATS Optimization Settings
ATS_KEYWORD_MIN_SECTIONS=2
ATS_RECENCY_WEIGHT_YEARS=3
ATS_MAX_SYNONYMS_PER_KEYWORD=3

# Action Plan Settings
ACTION_PLAN_TIMEOUT_MS=15000
ACTION_PLAN_RETRY_COUNT=3
ACTION_PLAN_COORDINATE_TOLERANCE=3

# Security Settings
RATE_LIMIT_REQUESTS_PER_MINUTE=100
SESSION_EXPIRE_HOURS=24
TOKEN_EXPIRE_MINUTES=60

#==============================================================================
# MONITORING & OBSERVABILITY (OPTIONAL)
#==============================================================================

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text

# Health Check Settings
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_INTERVAL=30

# Metrics Collection (if enabled)
ENABLE_METRICS=false
METRICS_PORT=9090

#==============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
#==============================================================================

# Environment Identification
NODE_ENV=development  # development, staging, production
PYTHON_ENV=development  # development, staging, production

# External Service URLs (customize per environment)
FRONTEND_URL=http://localhost:5173
API_BASE_URL=http://localhost:8000
COMPANION_BASE_URL=http://127.0.0.1:8765

#==============================================================================
# DOCKER COMPOSE OVERRIDES
#==============================================================================

# PostgreSQL Docker Settings (used by docker-compose.yml)
POSTGRES_DB=apply_copilot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# MinIO Docker Settings
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=strongpassword
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Redis Docker Settings
REDIS_PORT=6379

#==============================================================================
# SECURITY NOTES
#==============================================================================
#
# 1. NEVER commit .env to version control
# 2. Use strong, unique tokens for COMPANION_TOKEN and SECRET_KEY
# 3. Set DISABLE_AUTH=false in production
# 4. Use HTTPS in production (MINIO_SECURE=true)
# 5. Regularly rotate API keys and tokens
# 6. Monitor logs for security events
# 7. Use environment variables in production, not .env files
#
#==============================================================================